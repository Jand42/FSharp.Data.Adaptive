<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>FSharp.Data.Adaptive : adaptive data for F#
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="On-demand adaptive/incremental data for F#"/>
    <meta name="author" content="Georg Haaser, Don Syme"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="https://fsprojects.github.io/FSharp.Data.Adaptive/content/style.css" />
    <script type="text/javascript" src="https://fsprojects.github.io/FSharp.Data.Adaptive/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://github.com/fsprojects/FSharp.Data.Adaptive">github page</a></li>
        </ul>
        <h3 class="muted"><a href="https://fsprojects.github.io/FSharp.Data.Adaptive/index.html">FSharp.Data.Adaptive</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="FSharp-Data-Adaptive-adaptive-data-for-F" class="anchor" href="#FSharp-Data-Adaptive-adaptive-data-for-F">FSharp.Data.Adaptive : adaptive data for F#</a></h1>
<p>FSharp.Data.Adaptive aims at providing simple, yet powerful tools for developers to
write incremental (or as we call it: adaptive) programs.
In contrast to RX or similar libraries adaptive focuses on values instead of events.
The most basic adaptive container-type we provide is <code>aval&lt;'T&gt;</code> and here's a little example of what it can do for you:</p>
<h3><a name="Simple-Example" class="anchor" href="#Simple-Example">Simple Example</a></h3>
<p>consider a falling ball that falls from <code>10m</code> height on earth (<code>9.81m/s^2</code>).</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="id">height</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="rt">cval</span> <span class="n">10.0</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="id">gravity</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="rt">cval</span> <span class="n">9.81</span>
</code></pre></td>
</tr>
</table>
<p>so when will the ball be hitting the floor?</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="id">timeToFloor</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="id">map2</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs10', 11)" onmouseover="showTip(event, 'fs10', 11)" class="id">h</span> <span onmouseout="hideTip(event, 'fs11', 12)" onmouseover="showTip(event, 'fs11', 12)" class="id">g</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs12', 13)" onmouseover="showTip(event, 'fs12', 13)" class="fn">sqrt</span> <span class="pn">(</span><span class="n">2.0</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="id">h</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="id">g</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs4', 16)" onmouseover="showTip(event, 'fs4', 16)" class="id">height</span> <span onmouseout="hideTip(event, 'fs6', 17)" onmouseover="showTip(event, 'fs6', 17)" class="id">gravity</span>
<span onmouseout="hideTip(event, 'fs13', 18)" onmouseover="showTip(event, 'fs13', 18)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%.3f</span><span class="s">s&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 19)" onmouseover="showTip(event, 'fs8', 19)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 20)" onmouseover="showTip(event, 'fs14', 20)" class="id">force</span> <span onmouseout="hideTip(event, 'fs7', 21)" onmouseover="showTip(event, 'fs7', 21)" class="id">timeToFloor</span><span class="pn">)</span> <span class="c">// =&gt; 1.428s</span>
</code></pre></td>
</tr>
</table>
<p>so how long will it take on the moon?</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs15', 22)" onmouseover="showTip(event, 'fs15', 22)" class="fn">transact</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs6', 23)" onmouseover="showTip(event, 'fs6', 23)" class="id">gravity</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 24)" onmouseover="showTip(event, 'fs16', 24)" class="id">Value</span> <span class="k">&lt;-</span> <span class="n">1.62</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs13', 25)" onmouseover="showTip(event, 'fs13', 25)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%.3f</span><span class="s">s&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 26)" onmouseover="showTip(event, 'fs8', 26)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 27)" onmouseover="showTip(event, 'fs14', 27)" class="id">force</span> <span onmouseout="hideTip(event, 'fs7', 28)" onmouseover="showTip(event, 'fs7', 28)" class="id">timeToFloor</span><span class="pn">)</span> <span class="c">// =&gt; 3.514s</span>
</code></pre></td>
</tr>
</table>
<p>what about 2000m height on jupiter?</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs15', 29)" onmouseover="showTip(event, 'fs15', 29)" class="fn">transact</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="pn">)</span> <span class="k">-&gt;</span>
    <span onmouseout="hideTip(event, 'fs6', 30)" onmouseover="showTip(event, 'fs6', 30)" class="id">gravity</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 31)" onmouseover="showTip(event, 'fs16', 31)" class="id">Value</span> <span class="k">&lt;-</span> <span class="n">24.79</span>
    <span onmouseout="hideTip(event, 'fs4', 32)" onmouseover="showTip(event, 'fs4', 32)" class="id">height</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 33)" onmouseover="showTip(event, 'fs16', 33)" class="id">Value</span> <span class="k">&lt;-</span> <span class="n">2000.0</span>
<span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs13', 34)" onmouseover="showTip(event, 'fs13', 34)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%.3f</span><span class="s">s&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 35)" onmouseover="showTip(event, 'fs8', 35)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 36)" onmouseover="showTip(event, 'fs14', 36)" class="id">force</span> <span onmouseout="hideTip(event, 'fs7', 37)" onmouseover="showTip(event, 'fs7', 37)" class="id">timeToFloor</span><span class="pn">)</span> <span class="c">// =&gt; 12.703s</span>
</code></pre></td>
</tr>
</table>
<p>so currently this feels a lot like excel calcuations where dependent values get updated
whenever their inputs change which is not really impressive. The API becomes interesting when <strong>structural</strong> / <strong>dynamic</strong> dependencies
are needed.
So let's calculate the height where our ball will be at a certain point in time.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 38)" onmouseover="showTip(event, 'fs17', 38)" class="id">time</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 39)" onmouseover="showTip(event, 'fs5', 39)" class="rt">cval</span> <span class="n">0.5</span>

<span class="c">// simple utility calculating the height</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 40)" onmouseover="showTip(event, 'fs18', 40)" class="fn">calcHeight</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 41)" onmouseover="showTip(event, 'fs19', 41)" class="id">t</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs20', 42)" onmouseover="showTip(event, 'fs20', 42)" class="vt">float</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs21', 43)" onmouseover="showTip(event, 'fs21', 43)" class="id">h0</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs20', 44)" onmouseover="showTip(event, 'fs20', 44)" class="vt">float</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 45)" onmouseover="showTip(event, 'fs11', 45)" class="id">g</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs20', 46)" onmouseover="showTip(event, 'fs20', 46)" class="vt">float</span><span class="pn">)</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs22', 47)" onmouseover="showTip(event, 'fs22', 47)" class="fn">printf</span> <span class="s">&quot;height after </span><span class="pf">%.3f</span><span class="s">s: &quot;</span> <span onmouseout="hideTip(event, 'fs19', 48)" onmouseover="showTip(event, 'fs19', 48)" class="id">t</span>
    <span onmouseout="hideTip(event, 'fs21', 49)" onmouseover="showTip(event, 'fs21', 49)" class="id">h0</span> <span class="o">-</span> <span class="n">0.5</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs11', 50)" onmouseover="showTip(event, 'fs11', 50)" class="id">g</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs19', 51)" onmouseover="showTip(event, 'fs19', 51)" class="id">t</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs19', 52)" onmouseover="showTip(event, 'fs19', 52)" class="id">t</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs23', 53)" onmouseover="showTip(event, 'fs23', 53)" class="id">currentHeight</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 54)" onmouseover="showTip(event, 'fs8', 54)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs24', 55)" onmouseover="showTip(event, 'fs24', 55)" class="id">map3</span> <span onmouseout="hideTip(event, 'fs18', 56)" onmouseover="showTip(event, 'fs18', 56)" class="fn">calcHeight</span> <span onmouseout="hideTip(event, 'fs17', 57)" onmouseover="showTip(event, 'fs17', 57)" class="id">time</span> <span onmouseout="hideTip(event, 'fs4', 58)" onmouseover="showTip(event, 'fs4', 58)" class="id">height</span> <span onmouseout="hideTip(event, 'fs6', 59)" onmouseover="showTip(event, 'fs6', 59)" class="id">gravity</span>
<span onmouseout="hideTip(event, 'fs13', 60)" onmouseover="showTip(event, 'fs13', 60)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%.3f</span><span class="s">m&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 61)" onmouseover="showTip(event, 'fs8', 61)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 62)" onmouseover="showTip(event, 'fs14', 62)" class="id">force</span> <span onmouseout="hideTip(event, 'fs23', 63)" onmouseover="showTip(event, 'fs23', 63)" class="id">currentHeight</span><span class="pn">)</span> <span class="c">// height after 0.500s: 1996.901m</span>
</code></pre></td>
</tr>
</table>
<p>but what about invalid times (let's say -100s)?</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs15', 64)" onmouseover="showTip(event, 'fs15', 64)" class="fn">transact</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs17', 65)" onmouseover="showTip(event, 'fs17', 65)" class="id">time</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 66)" onmouseover="showTip(event, 'fs16', 66)" class="id">Value</span> <span class="k">&lt;-</span> <span class="o">-</span><span class="n">100.0</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs13', 67)" onmouseover="showTip(event, 'fs13', 67)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%.3f</span><span class="s">m&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 68)" onmouseover="showTip(event, 'fs8', 68)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 69)" onmouseover="showTip(event, 'fs14', 69)" class="id">force</span> <span onmouseout="hideTip(event, 'fs23', 70)" onmouseover="showTip(event, 'fs23', 70)" class="id">currentHeight</span><span class="pn">)</span> <span class="c">// =&gt; height after -100.000s: -121950.000m  </span>
</code></pre></td>
</tr>
</table>
<p>that's not really what we wanted!
so let's rewrite the code using a new combinator (namely <code>bind</code>)</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs25', 71)" onmouseover="showTip(event, 'fs25', 71)" class="id">currentHeightNew</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs17', 72)" onmouseover="showTip(event, 'fs17', 72)" class="id">time</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 73)" onmouseover="showTip(event, 'fs8', 73)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 74)" onmouseover="showTip(event, 'fs26', 74)" class="id">bind</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs19', 75)" onmouseover="showTip(event, 'fs19', 75)" class="id">t</span> <span class="k">-&gt;</span>
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs19', 76)" onmouseover="showTip(event, 'fs19', 76)" class="id">t</span> <span class="o">&lt;=</span> <span class="n">0.0</span> <span class="k">then</span> 
            <span class="c">// whenever the time is negative the ball will just report its initial height.</span>
            <span onmouseout="hideTip(event, 'fs4', 77)" onmouseover="showTip(event, 'fs4', 77)" class="id">height</span> <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs27', 78)" onmouseover="showTip(event, 'fs27', 78)" class="if">aval</span><span class="pn">&lt;</span><span class="id">_</span><span class="pn">&gt;</span>
        <span class="k">else</span>
            <span class="c">// when the time is positive we use our utility to calculate the height.</span>
            <span onmouseout="hideTip(event, 'fs8', 79)" onmouseover="showTip(event, 'fs8', 79)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 80)" onmouseover="showTip(event, 'fs9', 80)" class="id">map2</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs18', 81)" onmouseover="showTip(event, 'fs18', 81)" class="fn">calcHeight</span> <span onmouseout="hideTip(event, 'fs19', 82)" onmouseover="showTip(event, 'fs19', 82)" class="id">t</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs4', 83)" onmouseover="showTip(event, 'fs4', 83)" class="id">height</span> <span onmouseout="hideTip(event, 'fs6', 84)" onmouseover="showTip(event, 'fs6', 84)" class="id">gravity</span>
    <span class="pn">)</span>
    
<span onmouseout="hideTip(event, 'fs13', 85)" onmouseover="showTip(event, 'fs13', 85)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%.3f</span><span class="s">m&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 86)" onmouseover="showTip(event, 'fs8', 86)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 87)" onmouseover="showTip(event, 'fs14', 87)" class="id">force</span> <span onmouseout="hideTip(event, 'fs25', 88)" onmouseover="showTip(event, 'fs25', 88)" class="id">currentHeightNew</span><span class="pn">)</span> <span class="c">// =&gt; 2000.000m</span>
</code></pre></td>
</tr>
</table>
<p>that's better! NOTE that there is no <code>"height after"</code> print!
so what if we change the gravity back to earth?</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs15', 89)" onmouseover="showTip(event, 'fs15', 89)" class="fn">transact</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs6', 90)" onmouseover="showTip(event, 'fs6', 90)" class="id">gravity</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 91)" onmouseover="showTip(event, 'fs16', 91)" class="id">Value</span> <span class="k">&lt;-</span> <span class="n">9.81</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs13', 92)" onmouseover="showTip(event, 'fs13', 92)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%.3f</span><span class="s">m&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 93)" onmouseover="showTip(event, 'fs8', 93)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 94)" onmouseover="showTip(event, 'fs14', 94)" class="id">force</span> <span onmouseout="hideTip(event, 'fs25', 95)" onmouseover="showTip(event, 'fs25', 95)" class="id">currentHeightNew</span><span class="pn">)</span> <span class="c">// =&gt; 2000.000m (still no computation)</span>
</code></pre></td>
</tr>
</table>
<p>okay, set the height to 10m again.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs15', 96)" onmouseover="showTip(event, 'fs15', 96)" class="fn">transact</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs4', 97)" onmouseover="showTip(event, 'fs4', 97)" class="id">height</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 98)" onmouseover="showTip(event, 'fs16', 98)" class="id">Value</span> <span class="k">&lt;-</span> <span class="n">10.0</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs13', 99)" onmouseover="showTip(event, 'fs13', 99)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%.3f</span><span class="s">m&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 100)" onmouseover="showTip(event, 'fs8', 100)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 101)" onmouseover="showTip(event, 'fs14', 101)" class="id">force</span> <span onmouseout="hideTip(event, 'fs25', 102)" onmouseover="showTip(event, 'fs25', 102)" class="id">currentHeightNew</span><span class="pn">)</span> <span class="c">// 10.0m (still no computation)</span>
</code></pre></td>
</tr>
</table>
<p>so let's set the time to something positive again and see if the result will be correct.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs15', 103)" onmouseover="showTip(event, 'fs15', 103)" class="fn">transact</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs17', 104)" onmouseover="showTip(event, 'fs17', 104)" class="id">time</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 105)" onmouseover="showTip(event, 'fs16', 105)" class="id">Value</span> <span class="k">&lt;-</span> <span class="n">1.42785</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs13', 106)" onmouseover="showTip(event, 'fs13', 106)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%.3f</span><span class="s">m&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 107)" onmouseover="showTip(event, 'fs8', 107)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 108)" onmouseover="showTip(event, 'fs14', 108)" class="id">force</span> <span onmouseout="hideTip(event, 'fs25', 109)" onmouseover="showTip(event, 'fs25', 109)" class="id">currentHeightNew</span><span class="pn">)</span> <span class="c">// height after 1.428s: 0.000m</span>
</code></pre></td>
</tr>
</table>
<p>What this simple example demonstrates is that <code>aval&lt;'T&gt;</code> is capable of expressing <strong>dynamic</strong> dependency graphs.
The system <em>knows</em> that the resulting value doesn't depend on gravity/height as long as the current time is negative but still can compute the
correct result once the time gets positive again. This may seem trivial at a first glance but this kind of dependency
cannot be expressed in traditional reactive-programming libraries.</p>
<h3><a name="Changeable-Adaptive-and-Constant" class="anchor" href="#Changeable-Adaptive-and-Constant">Changeable, Adaptive and Constant</a></h3>
<p>First of all the system distinguishes between two different kinds of objects:</p>
<ol>
<li>changeable input values (e.g. <code>cval&lt;'T&gt;</code>, <code>cset&lt;'T&gt;</code>) that can imperatively be modified by user-code.</li>
<li>dependent values (e.g. <code>aval&lt;'T&gt;</code>, <code>aset&lt;'T&gt;</code>) that cannot directly be modified but instead depend on other values.</li>
</ol>
<p>However note that <code>cval&lt;'T&gt;</code> and <code>cset&lt;'T&gt;</code> also implement <code>aval&lt;'T&gt;</code> and <code>aset&lt;'T&gt;</code> respectively and can therefore
be used in places where these are expected (as seen in the example above).
Actually there is a third kind of objects: the ones which can never be changed.
In our system these are not expressed on type-level but instead expose a property <code>IsConstant</code>.
All combinators correctly track constants (when possible) and therefore:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 110)" onmouseover="showTip(event, 'fs28', 110)" class="id">shouldBeConstant</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 111)" onmouseover="showTip(event, 'fs8', 111)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs29', 112)" onmouseover="showTip(event, 'fs29', 112)" class="id">constant</span> <span class="n">5</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 113)" onmouseover="showTip(event, 'fs8', 113)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 114)" onmouseover="showTip(event, 'fs30', 114)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs31', 115)" onmouseover="showTip(event, 'fs31', 115)" class="id">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs31', 116)" onmouseover="showTip(event, 'fs31', 116)" class="id">v</span> <span class="o">*</span> <span class="n">10</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs13', 117)" onmouseover="showTip(event, 'fs13', 117)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 118)" onmouseover="showTip(event, 'fs8', 118)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 119)" onmouseover="showTip(event, 'fs14', 119)" class="id">force</span> <span onmouseout="hideTip(event, 'fs28', 120)" onmouseover="showTip(event, 'fs28', 120)" class="id">shouldBeConstant</span><span class="pn">)</span>  <span class="c">// ==&gt; 50</span>
<span onmouseout="hideTip(event, 'fs13', 121)" onmouseover="showTip(event, 'fs13', 121)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs28', 122)" onmouseover="showTip(event, 'fs28', 122)" class="id">shouldBeConstant</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 123)" onmouseover="showTip(event, 'fs32', 123)" class="id">IsConstant</span> <span class="c">// =&gt; true</span>
</code></pre></td>
</tr>
</table>
<p>Whenever values are not constant combinators like <code>AVal.map</code> internally build a dependency-graph that keeps
track of dependencies between cells and is needed whenever changes are fed into the system.
Supplying changes can be done using <code>transact : (unit -&gt; 'T) -&gt; 'T</code> which takes care of making the dependency-graph consistent after a certain change.</p>
<h3><a name="Evaluation-Strategy" class="anchor" href="#Evaluation-Strategy">Evaluation Strategy</a></h3>
<p>Our system uses a <em>push-pull</em> evaluation strategy meaning that evaluation will (by default) be lazy.
This is achieved via eagerly marking all affected values as <em>outOfDate</em> and lazily making them
<em>upToDate</em> whenever they're evaluated.
We opted for lazy evaluation since <em>unneeded</em> parts of the dependency graph impose virtually no runtime overhead
and it allows us to support (limited) concurrency in the system.
On the downside the marking process (performed by <code>transact</code>) needs to mark all <em>potentially affected</em> values as <em>outOfDate</em>
even though their resulting value may not have changed.
However we did our best to avoid re-execution of unchanged functions.
Here's an example illustrating this behaviour:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 124)" onmouseover="showTip(event, 'fs33', 124)" class="id">someInput</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 125)" onmouseover="showTip(event, 'fs5', 125)" class="rt">cval</span> <span class="n">10</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs34', 126)" onmouseover="showTip(event, 'fs34', 126)" class="id">someOutput</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs33', 127)" onmouseover="showTip(event, 'fs33', 127)" class="id">someInput</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 128)" onmouseover="showTip(event, 'fs8', 128)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 129)" onmouseover="showTip(event, 'fs30', 129)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs31', 130)" onmouseover="showTip(event, 'fs31', 130)" class="id">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs22', 131)" onmouseover="showTip(event, 'fs22', 131)" class="fn">printf</span> <span class="s">&quot;</span><span class="pf">%d</span><span class="s"> </span><span class="pf">%%</span><span class="s"> 2 =&gt; &quot;</span> <span onmouseout="hideTip(event, 'fs31', 132)" onmouseover="showTip(event, 'fs31', 132)" class="id">v</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs31', 133)" onmouseover="showTip(event, 'fs31', 133)" class="id">v</span> <span class="o">%</span> <span class="n">2</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 134)" onmouseover="showTip(event, 'fs8', 134)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 135)" onmouseover="showTip(event, 'fs30', 135)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs31', 136)" onmouseover="showTip(event, 'fs31', 136)" class="id">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs22', 137)" onmouseover="showTip(event, 'fs22', 137)" class="fn">printf</span> <span class="s">&quot;</span><span class="pf">%d</span><span class="s"> * 10 =&gt; &quot;</span> <span onmouseout="hideTip(event, 'fs31', 138)" onmouseover="showTip(event, 'fs31', 138)" class="id">v</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs31', 139)" onmouseover="showTip(event, 'fs31', 139)" class="id">v</span> <span class="o">*</span> <span class="n">10</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs22', 140)" onmouseover="showTip(event, 'fs22', 140)" class="fn">printf</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">: &quot;</span> <span onmouseout="hideTip(event, 'fs34', 141)" onmouseover="showTip(event, 'fs34', 141)" class="id">someOutput</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 142)" onmouseover="showTip(event, 'fs35', 142)" class="id">OutOfDate</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs13', 143)" onmouseover="showTip(event, 'fs13', 143)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 144)" onmouseover="showTip(event, 'fs8', 144)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 145)" onmouseover="showTip(event, 'fs14', 145)" class="id">force</span> <span onmouseout="hideTip(event, 'fs34', 146)" onmouseover="showTip(event, 'fs34', 146)" class="id">someOutput</span><span class="pn">)</span> <span class="c">// =&gt; true: 10 % 2 =&gt; 0 * 10 =&gt; 0</span>
<span onmouseout="hideTip(event, 'fs15', 147)" onmouseover="showTip(event, 'fs15', 147)" class="fn">transact</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs33', 148)" onmouseover="showTip(event, 'fs33', 148)" class="id">someInput</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 149)" onmouseover="showTip(event, 'fs36', 149)" class="id">Value</span> <span class="k">&lt;-</span> <span class="n">12</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs22', 150)" onmouseover="showTip(event, 'fs22', 150)" class="fn">printf</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">: &quot;</span> <span onmouseout="hideTip(event, 'fs34', 151)" onmouseover="showTip(event, 'fs34', 151)" class="id">someOutput</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 152)" onmouseover="showTip(event, 'fs35', 152)" class="id">OutOfDate</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs13', 153)" onmouseover="showTip(event, 'fs13', 153)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 154)" onmouseover="showTip(event, 'fs8', 154)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 155)" onmouseover="showTip(event, 'fs14', 155)" class="id">force</span> <span onmouseout="hideTip(event, 'fs34', 156)" onmouseover="showTip(event, 'fs34', 156)" class="id">someOutput</span><span class="pn">)</span> <span class="c">// =&gt; true: 12 % 2 =&gt; 0</span>
</code></pre></td>
</tr>
</table>
<p>Note that the <code>v * 10</code> function doesn't get executed after the change although its result has been marked <em>outOfDate</em>.</p>
<h3><a name="Adaptive-Collections" class="anchor" href="#Adaptive-Collections">Adaptive Collections</a></h3>
<p>As seen in the examples above <code>aval&lt;'T&gt;</code> and <code>cval&lt;'T&gt;</code> are containers for single values that may change adaptively.
A natural way of handling collections of values would be <code>aval&lt;Set&lt;'T&gt;&gt;</code>. However this is not optimal since the map function would then
need to look like:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 157)" onmouseover="showTip(event, 'fs37', 157)" class="fn">map</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs38', 158)" onmouseover="showTip(event, 'fs38', 158)" class="fn">mapping</span><span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T1</span> <span class="k">-&gt;</span> <span class="ta">&#39;</span><span class="id">T2</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs39', 159)" onmouseover="showTip(event, 'fs39', 159)" class="id">set</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs27', 160)" onmouseover="showTip(event, 'fs27', 160)" class="if">aval</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs40', 161)" onmouseover="showTip(event, 'fs40', 161)" class="rt">Set</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T1</span><span class="pn">&gt;</span><span class="pn">&gt;</span><span class="pn">)</span> <span class="o">=</span>   
    <span onmouseout="hideTip(event, 'fs39', 162)" onmouseover="showTip(event, 'fs39', 162)" class="id">set</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 163)" onmouseover="showTip(event, 'fs8', 163)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 164)" onmouseover="showTip(event, 'fs30', 164)" class="id">map</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 165)" onmouseover="showTip(event, 'fs40', 165)" class="m">Set</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs41', 166)" onmouseover="showTip(event, 'fs41', 166)" class="id">map</span> <span onmouseout="hideTip(event, 'fs38', 167)" onmouseover="showTip(event, 'fs38', 167)" class="fn">mapping</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>which effectively means that <code>mapping</code> will be executed for all elements of the set whenever something changes.
<code>cset&lt;'T&gt;</code> and <code>aset&lt;'T&gt;</code> solve this problem via effectively working on <em>deltas</em> instead of <em>values</em>.</p>
<p>Here's an example illustrating this:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs42', 168)" onmouseover="showTip(event, 'fs42', 168)" class="id">inputSet</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 169)" onmouseover="showTip(event, 'fs43', 169)" class="rt">cset</span> <span class="pn">[</span><span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">;</span><span class="n">3</span><span class="pn">]</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs44', 170)" onmouseover="showTip(event, 'fs44', 170)" class="id">dependentSet</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs42', 171)" onmouseover="showTip(event, 'fs42', 171)" class="id">inputSet</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 172)" onmouseover="showTip(event, 'fs45', 172)" class="m">ASet</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs46', 173)" onmouseover="showTip(event, 'fs46', 173)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs31', 174)" onmouseover="showTip(event, 'fs31', 174)" class="id">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs22', 175)" onmouseover="showTip(event, 'fs22', 175)" class="fn">printf</span> <span class="s">&quot;map </span><span class="pf">%d</span><span class="s">, &quot;</span> <span onmouseout="hideTip(event, 'fs31', 176)" onmouseover="showTip(event, 'fs31', 176)" class="id">v</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs31', 177)" onmouseover="showTip(event, 'fs31', 177)" class="id">v</span> <span class="o">*</span> <span class="n">2</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs13', 178)" onmouseover="showTip(event, 'fs13', 178)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 179)" onmouseover="showTip(event, 'fs8', 179)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 180)" onmouseover="showTip(event, 'fs14', 180)" class="id">force</span> <span onmouseout="hideTip(event, 'fs44', 181)" onmouseover="showTip(event, 'fs44', 181)" class="id">dependentSet</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs47', 182)" onmouseover="showTip(event, 'fs47', 182)" class="id">Content</span><span class="pn">)</span> <span class="c">// =&gt; map 1, map 2, map 3, HashSet [2; 4; 6]</span>

<span class="c">// so let&#39;s add an element to the set</span>
<span onmouseout="hideTip(event, 'fs15', 183)" onmouseover="showTip(event, 'fs15', 183)" class="fn">transact</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs42', 184)" onmouseover="showTip(event, 'fs42', 184)" class="fn">inputSet</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs48', 185)" onmouseover="showTip(event, 'fs48', 185)" class="id">Add</span> <span class="n">0</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs13', 186)" onmouseover="showTip(event, 'fs13', 186)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 187)" onmouseover="showTip(event, 'fs8', 187)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 188)" onmouseover="showTip(event, 'fs14', 188)" class="id">force</span> <span onmouseout="hideTip(event, 'fs44', 189)" onmouseover="showTip(event, 'fs44', 189)" class="id">dependentSet</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs47', 190)" onmouseover="showTip(event, 'fs47', 190)" class="id">Content</span><span class="pn">)</span> <span class="c">// =&gt; map 0, HashSet [0; 2; 4; 6]</span>

<span onmouseout="hideTip(event, 'fs15', 191)" onmouseover="showTip(event, 'fs15', 191)" class="fn">transact</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs42', 192)" onmouseover="showTip(event, 'fs42', 192)" class="fn">inputSet</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 193)" onmouseover="showTip(event, 'fs49', 193)" class="id">Remove</span> <span class="n">2</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs13', 194)" onmouseover="showTip(event, 'fs13', 194)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs8', 195)" onmouseover="showTip(event, 'fs8', 195)" class="m">AVal</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 196)" onmouseover="showTip(event, 'fs14', 196)" class="id">force</span> <span onmouseout="hideTip(event, 'fs44', 197)" onmouseover="showTip(event, 'fs44', 197)" class="id">dependentSet</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs47', 198)" onmouseover="showTip(event, 'fs47', 198)" class="id">Content</span><span class="pn">)</span> <span class="c">// =&gt; HashSet [0; 2; 6]</span>
<span class="c">// Note that there&#39;s no `map 2` print!</span>
</code></pre></td>
</tr>
</table>

<div class="tip" id="fs1">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="tip" id="fs2">Multiple items<br />namespace FSharp.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="tip" id="fs3">namespace FSharp.Data.Adaptive</div>
<div class="tip" id="fs4">val height : cval&lt;float&gt;</div>
<div class="tip" id="fs5">type cval&lt;&#39;T&gt; = ChangeableValue&lt;&#39;T&gt;</div>
<div class="tip" id="fs6">val gravity : cval&lt;float&gt;</div>
<div class="tip" id="fs7">val timeToFloor : aval&lt;float&gt;</div>
<div class="tip" id="fs8">module AVal<br /><br />from FSharp.Data.Adaptive</div>
<div class="tip" id="fs9">val map2 : mapping:(&#39;T1 -&gt; &#39;T2 -&gt; &#39;T3) -&gt; value1:aval&lt;&#39;T1&gt; -&gt; value2:aval&lt;&#39;T2&gt; -&gt; aval&lt;&#39;T3&gt;</div>
<div class="tip" id="fs10">val h : float</div>
<div class="tip" id="fs11">val g : float</div>
<div class="tip" id="fs12">val sqrt : value:&#39;T -&gt; &#39;U (requires member Sqrt)</div>
<div class="tip" id="fs13">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="tip" id="fs14">val force : value:aval&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="tip" id="fs15">val transact : f:(unit -&gt; &#39;T) -&gt; &#39;T</div>
<div class="tip" id="fs16">property ChangeableValue.Value: float</div>
<div class="tip" id="fs17">val time : cval&lt;float&gt;</div>
<div class="tip" id="fs18">val calcHeight : t:float -&gt; h0:float -&gt; g:float -&gt; float</div>
<div class="tip" id="fs19">val t : float</div>
<div class="tip" id="fs20">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />--------------------<br />type float = System.Double<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float</div>
<div class="tip" id="fs21">val h0 : float</div>
<div class="tip" id="fs22">val printf : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="tip" id="fs23">val currentHeight : aval&lt;float&gt;</div>
<div class="tip" id="fs24">val map3 : mapping:(&#39;T1 -&gt; &#39;T2 -&gt; &#39;T3 -&gt; &#39;T4) -&gt; value1:aval&lt;&#39;T1&gt; -&gt; value2:aval&lt;&#39;T2&gt; -&gt; value3:aval&lt;&#39;T3&gt; -&gt; aval&lt;&#39;T4&gt;</div>
<div class="tip" id="fs25">val currentHeightNew : aval&lt;float&gt;</div>
<div class="tip" id="fs26">val bind : mapping:(&#39;T1 -&gt; aval&lt;&#39;T2&gt;) -&gt; value:aval&lt;&#39;T1&gt; -&gt; aval&lt;&#39;T2&gt;</div>
<div class="tip" id="fs27">Multiple items<br />val aval : AValBuilder<br /><br />--------------------<br />type aval&lt;&#39;T&gt; = AdaptiveValue&lt;&#39;T&gt;</div>
<div class="tip" id="fs28">val shouldBeConstant : aval&lt;int&gt;</div>
<div class="tip" id="fs29">val constant : value:&#39;T -&gt; aval&lt;&#39;T&gt;</div>
<div class="tip" id="fs30">val map : mapping:(&#39;T1 -&gt; &#39;T2) -&gt; value:aval&lt;&#39;T1&gt; -&gt; aval&lt;&#39;T2&gt;</div>
<div class="tip" id="fs31">val v : int</div>
<div class="tip" id="fs32">property IAdaptiveObject.IsConstant: bool</div>
<div class="tip" id="fs33">val someInput : cval&lt;int&gt;</div>
<div class="tip" id="fs34">val someOutput : aval&lt;int&gt;</div>
<div class="tip" id="fs35">property IAdaptiveObject.OutOfDate: bool</div>
<div class="tip" id="fs36">property ChangeableValue.Value: int</div>
<div class="tip" id="fs37">val map : mapping:(&#39;T1 -&gt; &#39;T2) -&gt; set:aval&lt;Set&lt;&#39;T1&gt;&gt; -&gt; aval&lt;Set&lt;&#39;T2&gt;&gt; (requires comparison and comparison)</div>
<div class="tip" id="fs38">val mapping : (&#39;T1 -&gt; &#39;T2) (requires comparison and comparison)</div>
<div class="tip" id="fs39">val set : aval&lt;Set&lt;&#39;T1&gt;&gt; (requires comparison)</div>
<div class="tip" id="fs40">Multiple items<br />union case ElementOperation.Set: &#39;T -&gt; ElementOperation&lt;&#39;T&gt;<br /><br />--------------------<br />module Set<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type Set&lt;&#39;T (requires comparison)&gt; =<br />&#160;&#160;interface IReadOnlyCollection&lt;&#39;T&gt;<br />&#160;&#160;interface IComparable<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;interface ICollection&lt;&#39;T&gt;<br />&#160;&#160;new : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt;<br />&#160;&#160;member Add : value:&#39;T -&gt; Set&lt;&#39;T&gt;<br />&#160;&#160;member Contains : value:&#39;T -&gt; bool<br />&#160;&#160;override Equals : obj -&gt; bool<br />&#160;&#160;member IsProperSubsetOf : otherSet:Set&lt;&#39;T&gt; -&gt; bool<br />&#160;&#160;...<br /><br />--------------------<br />new : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt;</div>
<div class="tip" id="fs41">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; set:Set&lt;&#39;T&gt; -&gt; Set&lt;&#39;U&gt; (requires comparison and comparison)</div>
<div class="tip" id="fs42">val inputSet : cset&lt;int&gt;</div>
<div class="tip" id="fs43">type cset&lt;&#39;T&gt; = ChangeableHashSet&lt;&#39;T&gt;</div>
<div class="tip" id="fs44">val dependentSet : aset&lt;int&gt;</div>
<div class="tip" id="fs45">Multiple items<br />module ASet<br /><br />from FSharp.Data.Adaptive.CollectionExtensions<br /><br />--------------------<br />module ASet<br /><br />from FSharp.Data.Adaptive</div>
<div class="tip" id="fs46">val map : mapping:(&#39;A -&gt; &#39;B) -&gt; set:aset&lt;&#39;A&gt; -&gt; aset&lt;&#39;B&gt;</div>
<div class="tip" id="fs47">property AdaptiveHashSet.Content: aval&lt;HashSet&lt;int&gt;&gt;</div>
<div class="tip" id="fs48">member ChangeableHashSet.Add : value:&#39;T -&gt; bool</div>
<div class="tip" id="fs49">member ChangeableHashSet.Remove : value:&#39;T -&gt; bool</div>

        </div>
        <div class="span3">
          <a target="_blank" href="https://fsprojects.github.io/FSharp.Data.Adaptive">
      <img src="https://fsprojects.github.io/FSharp.Data.Adaptive/img/logo.png" alt="F# Project" style="width:150px;margin:10px" /> 
      </a>
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">FSharp.Data.Adaptive</li>
            <li><a href="https://fsprojects.github.io/FSharp.Data.Adaptive/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://www.nuget.org/packages/FSharp.Data.Adaptive">Get Library via NuGet</a></li>
            <li><a href="http://github.com/fsprojects/FSharp.Data.Adaptive">Source Code on GitHub</a></li>
            <li><a href="http://github.com/fsprojects/FSharp.Data.Adaptive/blob/master/LICENSE">License</a></li>
            <li><a href="http://github.com/fsprojects/FSharp.Data.Adaptive/blob/master/RELEASE_NOTES.md">Release Notes</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="https://fsprojects.github.io/FSharp.Data.Adaptive/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/fsprojects/FSharp.Data.Adaptive"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
